{"ast":null,"code":"//async for the await (waits for response) command \nexport default async function handleSubmit() {\n  const url = document.querySelector(\".input\").value;\n  const customCode = document.querySelector(\".input-short-code\").value;\n\n  //check for urls\n  if (!url) {\n    alert(\"Please enter a URL\");\n    return;\n  }\n  try {\n    const response = await fetch(\"http://localhost:5235/api/shorten\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\" //tels im sending json\n      },\n      body: JSON.stringify({\n        url: url\n      }) // the json itself will be \"url\": \"https://in&outUrl.com\"\n    });\n    if (!response.ok) {\n      throw new Error(`Server error: ${response.status}`);\n    }\n    const result = await response.json(); // get the response\n    console.log(\"Full response JSON:\", result);\n    console.log(\"Shortened URL:\", result.shortUrl);\n    alert(result.shortUrl);\n  } catch (error) {\n    console.error(\"Error sending request:\", error);\n    alert(\"error\");\n  }\n}","map":{"version":3,"names":["handleSubmit","url","document","querySelector","value","customCode","alert","response","fetch","method","headers","body","JSON","stringify","ok","Error","status","result","json","console","log","shortUrl","error"],"sources":["C:/Users/Hamburg/source/repos/urlshortner/frontend/src/buttonHandler.js"],"sourcesContent":["//async for the await (waits for response) command \r\nexport default async function handleSubmit() {\r\n\r\n    const url = document.querySelector(\".input\").value;\r\n    const customCode = document.querySelector(\".input-short-code\").value;\r\n\r\n    //check for urls\r\n    if (!url) {\r\n        alert(\"Please enter a URL\");\r\n        return;\r\n    }\r\n\r\n    try {\r\n        const response = await fetch(\"http://localhost:5235/api/shorten\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\" //tels im sending json\r\n            },\r\n            body: JSON.stringify({ url: url }) // the json itself will be \"url\": \"https://in&outUrl.com\"\r\n        });\r\n\r\n        if (!response.ok) {\r\n            throw new Error(`Server error: ${response.status}`);\r\n        }\r\n\r\n        const result = await response.json(); // get the response\r\n        console.log(\"Full response JSON:\", result);\r\n        console.log(\"Shortened URL:\", result.shortUrl);\r\n        alert(result.shortUrl)\r\n\r\n    } catch (error) {\r\n        console.error(\"Error sending request:\", error);\r\n        alert(\"error\");\r\n    }\r\n    \r\n}"],"mappings":"AAAA;AACA,eAAe,eAAeA,YAAYA,CAAA,EAAG;EAEzC,MAAMC,GAAG,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC,CAACC,KAAK;EAClD,MAAMC,UAAU,GAAGH,QAAQ,CAACC,aAAa,CAAC,mBAAmB,CAAC,CAACC,KAAK;;EAEpE;EACA,IAAI,CAACH,GAAG,EAAE;IACNK,KAAK,CAAC,oBAAoB,CAAC;IAC3B;EACJ;EAEA,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,mCAAmC,EAAE;MAC9DC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACL,cAAc,EAAE,kBAAkB,CAAC;MACvC,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEZ,GAAG,EAAEA;MAAI,CAAC,CAAC,CAAC;IACvC,CAAC,CAAC;IAEF,IAAI,CAACM,QAAQ,CAACO,EAAE,EAAE;MACd,MAAM,IAAIC,KAAK,CAAC,iBAAiBR,QAAQ,CAACS,MAAM,EAAE,CAAC;IACvD;IAEA,MAAMC,MAAM,GAAG,MAAMV,QAAQ,CAACW,IAAI,CAAC,CAAC,CAAC,CAAC;IACtCC,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEH,MAAM,CAAC;IAC1CE,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEH,MAAM,CAACI,QAAQ,CAAC;IAC9Cf,KAAK,CAACW,MAAM,CAACI,QAAQ,CAAC;EAE1B,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZH,OAAO,CAACG,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAC9ChB,KAAK,CAAC,OAAO,CAAC;EAClB;AAEJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}